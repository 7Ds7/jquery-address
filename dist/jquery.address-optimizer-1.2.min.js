/*
 * jQuery Address Plugin v1.2
 * http://www.asual.com/jquery/address/
 *
 * Copyright (c) 2009 Rostislav Hristov
 * Dual licensed under the MIT and GPL licenses.
 * http://docs.jquery.com/License
 *
 * Date: 2009-12-28 13:29:53 +0200 (Mon, 28 Dec 2009)
 */
(function(){var l=function(){try{return top.document!=undefined?top:window}catch(i){return window}};var h=function(x){if(x.childNodes){for(var p=0,e=x.childNodes.length,w;p<e;p++){if(x.childNodes[p].src){g=String(x.childNodes[p].src)}if(w=h(x.childNodes[p])){return w}}}};var u="undefined",g,r=l(),c=r.document,a=r.location,v=navigator,s=a.href.indexOf("#"),m=(s!=-1),b={};h(document);var o=g?g.indexOf("?"):-1;if(o!=-1){var d,t=g.substr(o+1).split("&");for(var n=0,j;j=t[n];n++){d=j.split("=");if(/^(base|address)$/.test(d[0])){b[d[0]]=unescape(d[1])}}}if(m&&(s-(a.href.indexOf(a.pathname,a.protocol.length+2)+a.pathname.indexOf(b.base)+b.base.length))>1){m=false}var k=a.href.split(a.hostname)[1].replace(b.base,"");if(b.address!="/"&&(!m||s==a.href.length-1)&&(k!=""&&k!="/")){var f;if(window.XMLHttpRequest){f=new XMLHttpRequest()}else{if(window.ActiveXObject){try{try{f=new ActiveXObject("Msxml2.XMLHTTP")}catch(q){f=new ActiveXObject("Microsoft.XMLHTTP")}}catch(q){}}}if(f){f.open("get",((typeof b.base!=u)?b.base:"")+"/?"+b.address+(a.hash!=""?"&hash="+a.hash.replace(/^#/,""):""),false);f.setRequestHeader("Content-Type","application/x-address");f.send("");(new Function(f.responseText.replace(/^([^(]*)\(([^)]*)\);?$/,"$1($2);")))()}}else{if(/webkit/i.test(v.userAgent.toLowerCase())&&c.referrer==a.href.replace(/#\/?/,"")){a.reload()}}})();